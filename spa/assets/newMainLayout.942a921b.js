import{c as L,u as ne,a as le,Q as U,h as oe,b as re,d as se,e as G,f as ee,g as O,i as ie,j as ue,k as ce,R as F}from"./QBtn.68a98313.js";import{d as i,h as u,w as x,f as w,g as de,i as A,s as fe,j as te,k as T,l as ve,m as K,p as ae,q as me,t as he,a as H,u as ge,_ as be,o as B,v as _,x as g,y as ye,z as d,A as z,B as we,C as J,c as Se,D as xe,F as Be,E as I}from"./index.fc2873ca.js";import{Q as X,a as qe}from"./QExpansionItem.41d668e9.js";import{Q as N,a as Ce}from"./QResizeObserver.f018ac11.js";import{u as _e,a as Le,b as Qe,Q as ze}from"./QTabs.116bdff8.js";import{u as Te,Q as Z,a as $e,b as ke,c as j}from"./focusout.15c52526.js";import{Q as pe}from"./QMenu.c868487e.js";import{u as Re}from"./uid.42677368.js";import{Q as De}from"./QScrollObserver.afc3a607.js";import{g as E}from"./scroll.c7156d1f.js";import{C as W}from"./ClosePopup.ab6692f3.js";import{s as P}from"./staffing.1c48af4b.js";import"./focus-manager.e17a04ac.js";import"./rtl.b51694b1.js";var He=L({name:"QAvatar",props:{...ne,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(e,{slots:s}){const l=le(e),a=i(()=>"q-avatar"+(e.color?` bg-${e.color}`:"")+(e.textColor?` text-${e.textColor} q-chip--colored`:"")+(e.square===!0?" q-avatar--square":e.rounded===!0?" rounded-borders":"")),n=i(()=>e.fontSize?{fontSize:e.fontSize}:null);return()=>{const r=e.icon!==void 0?[u(U,{name:e.icon})]:void 0;return u("div",{class:a.value,style:l.value},[u("div",{class:"q-avatar__content row flex-center overflow-hidden",style:n.value},oe(s.default,r))])}}}),V=L({name:"QRouteTab",props:{...re,..._e},emits:Le,setup(e,{slots:s,emit:l}){const a=se({useDisableForRouterLinkProps:!1}),{renderTab:n,$tabs:r}=Qe(e,s,l,{exact:i(()=>e.exact),...a});return x(()=>`${e.name} | ${e.exact} | ${(a.resolvedLink.value||{}).href}`,()=>{r.verifyRouteModel()}),()=>n(a.linkTag.value,a.linkAttrs.value)}}),Pe=L({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:s}){const l=i(()=>{const a=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(n=>e[n]===!0).map(n=>`q-btn-group--${n}`).join(" ");return`q-btn-group row no-wrap${a.length>0?" "+a:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>u("div",{class:l.value},G(s.default))}});const Ve=Object.keys(ee),Ae=e=>Ve.reduce((s,l)=>{const a=e[l];return a!==void 0&&(s[l]=a),s},{});var Me=L({name:"QBtnDropdown",props:{...ee,...Te,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:s,emit:l}){const{proxy:a}=A(),n=w(e.modelValue),r=w(null),c=Re(),f=i(()=>{const t={"aria-expanded":n.value===!0?"true":"false","aria-haspopup":"true","aria-controls":c,"aria-label":e.toggleAriaLabel||a.$q.lang.label[n.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(t["aria-disabled"]="true"),t}),y=i(()=>"q-btn-dropdown__arrow"+(n.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),v=i(()=>ie(e)),Q=i(()=>Ae(e));x(()=>e.modelValue,t=>{r.value!==null&&r.value[t?"show":"hide"]()}),x(()=>e.split,m);function $(t){n.value=!0,l("beforeShow",t)}function k(t){l("show",t),l("update:modelValue",!0)}function b(t){n.value=!1,l("beforeHide",t)}function S(t){l("hide",t),l("update:modelValue",!1)}function p(t){l("click",t)}function R(t){fe(t),m(),l("click",t)}function q(t){r.value!==null&&r.value.toggle(t)}function o(t){r.value!==null&&r.value.show(t)}function m(t){r.value!==null&&r.value.hide(t)}return Object.assign(a,{show:o,hide:m,toggle:q}),de(()=>{e.modelValue===!0&&o()}),()=>{const t=[u(U,{class:y.value,name:e.dropdownIcon||a.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&t.push(u(pe,{ref:r,id:c,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:$,onShow:k,onBeforeHide:b,onHide:S},s.default)),e.split===!1?u(O,{class:"q-btn-dropdown q-btn-dropdown--simple",...Q.value,...f.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:p},{default:()=>G(s.label,[]).concat(t),loading:s.loading}):u(Pe,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...v.value,glossy:e.glossy,stretch:e.stretch},()=>[u(O,{class:"q-btn-dropdown--current",...Q.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:R},{default:s.label,loading:s.loading}),u(O,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...f.value,...v.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>t)])}}}),Oe=L({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:s,emit:l}){const{proxy:{$q:a}}=A(),n=te(K,T);if(n===T)return console.error("QHeader needs to be child of QLayout"),T;const r=w(parseInt(e.heightHint,10)),c=w(!0),f=i(()=>e.reveal===!0||n.view.value.indexOf("H")>-1||a.platform.is.ios&&n.isContainer.value===!0),y=i(()=>{if(e.modelValue!==!0)return 0;if(f.value===!0)return c.value===!0?r.value:0;const o=r.value-n.scroll.value.position;return o>0?o:0}),v=i(()=>e.modelValue!==!0||f.value===!0&&c.value!==!0),Q=i(()=>e.modelValue===!0&&v.value===!0&&e.reveal===!0),$=i(()=>"q-header q-layout__section--marginal "+(f.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(v.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),k=i(()=>{const o=n.rows.value.top,m={};return o[0]==="l"&&n.left.space===!0&&(m[a.lang.rtl===!0?"right":"left"]=`${n.left.size}px`),o[2]==="r"&&n.right.space===!0&&(m[a.lang.rtl===!0?"left":"right"]=`${n.right.size}px`),m});function b(o,m){n.update("header",o,m)}function S(o,m){o.value!==m&&(o.value=m)}function p({height:o}){S(r,o),b("size",o)}function R(o){Q.value===!0&&S(c,!0),l("focusin",o)}x(()=>e.modelValue,o=>{b("space",o),S(c,!0),n.animate()}),x(y,o=>{b("offset",o)}),x(()=>e.reveal,o=>{o===!1&&S(c,e.modelValue)}),x(c,o=>{n.animate(),l("reveal",o)}),x(n.scroll,o=>{e.reveal===!0&&S(c,o.direction==="up"||o.position<=e.revealOffset||o.position-o.inflectionPoint<100)});const q={};return n.instances.header=q,e.modelValue===!0&&b("size",r.value),b("space",e.modelValue),b("offset",y.value),ve(()=>{n.instances.header===q&&(n.instances.header=void 0,b("size",0),b("offset",0),b("space",!1))}),()=>{const o=ue(s.default,[]);return e.elevated===!0&&o.push(u("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),o.push(u(N,{debounce:0,onResize:p})),u("header",{class:$.value,style:k.value,onFocusin:R},o)}}}),Fe=L({name:"QPageContainer",setup(e,{slots:s}){const{proxy:{$q:l}}=A(),a=te(K,T);if(a===T)return console.error("QPageContainer needs to be child of QLayout"),T;ae(me,!0);const n=i(()=>{const r={};return a.header.space===!0&&(r.paddingTop=`${a.header.size}px`),a.right.space===!0&&(r[`padding${l.lang.rtl===!0?"Left":"Right"}`]=`${a.right.size}px`),a.footer.space===!0&&(r.paddingBottom=`${a.footer.size}px`),a.left.space===!0&&(r[`padding${l.lang.rtl===!0?"Right":"Left"}`]=`${a.left.size}px`),r});return()=>u("div",{class:"q-page-container",style:n.value},G(s.default))}}),Ie=L({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:s,emit:l}){const{proxy:{$q:a}}=A(),n=w(null),r=w(a.screen.height),c=w(e.container===!0?0:a.screen.width),f=w({position:0,direction:"down",inflectionPoint:0}),y=w(0),v=w(he.value===!0?0:E()),Q=i(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),$=i(()=>e.container===!1?{minHeight:a.screen.height+"px"}:null),k=i(()=>v.value!==0?{[a.lang.rtl===!0?"left":"right"]:`${v.value}px`}:null),b=i(()=>v.value!==0?{[a.lang.rtl===!0?"right":"left"]:0,[a.lang.rtl===!0?"left":"right"]:`-${v.value}px`,width:`calc(100% + ${v.value}px)`}:null);function S(t){if(e.container===!0||document.qScrollPrevented!==!0){const h={position:t.position.top,direction:t.direction,directionChanged:t.directionChanged,inflectionPoint:t.inflectionPoint.top,delta:t.delta.top};f.value=h,e.onScroll!==void 0&&l("scroll",h)}}function p(t){const{height:h,width:C}=t;let D=!1;r.value!==h&&(D=!0,r.value=h,e.onScrollHeight!==void 0&&l("scrollHeight",h),q()),c.value!==C&&(D=!0,c.value=C),D===!0&&e.onResize!==void 0&&l("resize",t)}function R({height:t}){y.value!==t&&(y.value=t,q())}function q(){if(e.container===!0){const t=r.value>y.value?E():0;v.value!==t&&(v.value=t)}}let o=null;const m={instances:{},view:i(()=>e.view),isContainer:i(()=>e.container),rootRef:n,height:r,containerHeight:y,scrollbarWidth:v,totalWidth:i(()=>c.value+v.value),rows:i(()=>{const t=e.view.toLowerCase().split(" ");return{top:t[0].split(""),middle:t[1].split(""),bottom:t[2].split("")}}),header:H({size:0,offset:0,space:!1}),right:H({size:300,offset:0,space:!1}),footer:H({size:0,offset:0,space:!1}),left:H({size:300,offset:0,space:!1}),scroll:f,animate(){o!==null?clearTimeout(o):document.body.classList.add("q-body--layout-animate"),o=setTimeout(()=>{o=null,document.body.classList.remove("q-body--layout-animate")},155)},update(t,h,C){m[t][h]=C}};if(ae(K,m),E()>0){let C=function(){t=null,h.classList.remove("hide-scrollbar")},D=function(){if(t===null){if(h.scrollHeight>a.screen.height)return;h.classList.add("hide-scrollbar")}else clearTimeout(t);t=setTimeout(C,300)},M=function(Y){t!==null&&Y==="remove"&&(clearTimeout(t),C()),window[`${Y}EventListener`]("resize",D)},t=null;const h=document.body;x(()=>e.container!==!0?"add":"remove",M),e.container!==!0&&M("add"),ge(()=>{M("remove")})}return()=>{const t=ce(s.default,[u(De,{onScroll:S}),u(N,{onResize:p})]),h=u("div",{class:Q.value,style:$.value,ref:e.container===!0?void 0:n,tabindex:-1},t);return e.container===!0?u("div",{class:"q-layout-container overflow-hidden",ref:n},[u(N,{onResize:R}),u("div",{class:"absolute-full",style:k.value},[u("div",{class:"scroll",style:b.value},[h])])]):h}}});const je={methods:{toggleLeftDrawer(){this.leftDrawerState=!this.leftDrawerState},testMethod(){console.log("testMethod fired"),console.log("terms = ",this.terms);let e=[],s=null;for(let l in this.terms)console.log("x = ",this.terms[l]),console.log("x.term = ",this.terms[l].term),this.terms[l].term?(s=this.terms[l].term.slice(-4),console.log("year = ",s),e.push(s)):console.log("x.term was empty");e=e.filter((l,a,n)=>n.indexOf(l)==a),console.log("yearsList = ",e),this.years=e},setTerm(e){console.log("setTerm fired..."),this.selectedTerm=e;const s={currentTerm:e};P.dispatch("setCurrentTerm",s)}},data(){return{leftDrawerState:!1,selectedTerm:null}},computed:{currentTerm(){return P.getters.getCurrentTerm},terms(){return P.getters.getDates},years(){let e=[],s=null;for(let l in this.terms)this.terms[l].term&&(s=this.terms[l].term.slice(-4),e.push(s));return e=e.filter((l,a,n)=>n.indexOf(l)==a),console.log("yearsList = ",e),e},isLoading(){return P.getters.isLoading}},watch:{currentTerm(){this.selectedTerm=this.currentTerm}}};function Ee(e,s,l,a,n,r){const c=ye("router-view");return B(),_(Ie,{view:"hHh lpR fFf"},{default:g(()=>[d(Oe,{elevated:"",class:"bg-primary text-white","height-hint":"98"},{default:g(()=>[d(Ce,{class:"glossy"},{default:g(()=>[d(X,null,{default:g(()=>[d(He,null,{default:g(()=>[d(U,{size:"lg",name:"nightlife"})]),_:1}),z(" Saturday Night Events ")]),_:1})]),_:1}),d(ze,{align:"left"},{default:g(()=>[d(V,{to:"/staff",label:"Staff"}),d(V,{to:"/slt",label:"SLT"}),d(V,{to:"/dates",label:"Term Dates"}),d(V,{to:"/staff-loading",label:"Staff Loading"}),d(Z,{dark:"",vertical:"",inset:""}),this.$route.path!=="/dates"?(B(),_(X,{key:0,class:"text-center"},{default:g(()=>[z(we(n.selectedTerm),1)]),_:1})):J("",!0),d(Z,{dark:"",vertical:"",inset:""}),this.$route.path==="/slt"||this.$route.path==="/test"?(B(),_(Me,{key:1,rounded:"",label:"select active term",style:{width:"200px"}},{default:g(()=>[d($e,null,{default:g(()=>[d(ke,{header:""},{default:g(()=>[z("Years")]),_:1}),(B(!0),Se(Be,null,xe(r.years,f=>(B(),_(qe,{key:f,clickable:"",icon:"today",label:f},{default:g(()=>[I((B(),_(j,{clickable:"",label:"Michaelmas",onClick:y=>r.setTerm("Michaelmas "+f)},{default:g(()=>[z("Michaelmas")]),_:2},1032,["onClick"])),[[F],[W]]),I((B(),_(j,{clickable:"",label:"Lent",onClick:y=>r.setTerm("Lent "+f)},{default:g(()=>[z("Lent")]),_:2},1032,["onClick"])),[[F],[W]]),I((B(),_(j,{clickable:"",label:"Summer",onClick:y=>r.setTerm("Summer "+f)},{default:g(()=>[z("Summer")]),_:2},1032,["onClick"])),[[F],[W]])]),_:2},1032,["label"]))),128))]),_:1})]),_:1})):J("",!0)]),_:1})]),_:1}),d(Fe,null,{default:g(()=>[d(c)]),_:1})]),_:1})}var ot=be(je,[["render",Ee]]);export{ot as default};
