import{e as W,a as T,d,f as Te,g as Me,i as Ce,w as oe,R as re,h,t as He,j as Qe,k as nt,l as lt,Q as J,m as Ve,p as Z,q as ot,u as G,v as rt,x as it,y as z,z as ue,A as Ee,B as ie,C as st,D as ut,E as ct,F as dt,G as Se,H as ft,I as qe,J as vt,K as ht,L as he,M as le,N as bt,_ as gt,s as V,o as O,O as U,P as $,S as mt,T as R,U as wt,V as K,W as be,X as ge,c as yt,Y as Tt,Z as Ct}from"./index.68a7ba35.js";import{Q as St,a as Ie}from"./QToolbar.8cd6d101.js";import{u as Fe}from"./use-dark.d374fe27.js";import{Q as De,a as qt}from"./QList.5fcd14f4.js";import{Q as _t,a as me}from"./use-model-toggle.59bd39dc.js";import{Q as kt}from"./QExpansionItem.d2e2788c.js";import{Q as Lt,r as Bt}from"./rtl.b8933178.js";import{u as Rt,a as we,b as ze}from"./focusout.dd9fa5d8.js";import{Q as se,a as xt}from"./QScrollObserver.b85909b2.js";import{C as ye}from"./ClosePopup.8bffdde0.js";import"./focus-manager.d6507951.js";let $t=0;const Pt=["click","keydown"],At={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${$t++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Qt(e,f,s,l){const n=Ce(He,W);if(n===W)return console.error("QTab/QRouteTab component needs to be child of QTabs"),W;const{proxy:u}=Z(),y=T(null),q=T(null),L=T(null),k=d(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),I=d(()=>n.currentModel.value===e.name),E=d(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(I.value===!0?" q-tab--active"+(n.tabProps.value.activeClass?" "+n.tabProps.value.activeClass:"")+(n.tabProps.value.activeColor?` text-${n.tabProps.value.activeColor}`:"")+(n.tabProps.value.activeBgColor?` bg-${n.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&n.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||n.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(l!==void 0?l.linkClass.value:"")),D=d(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(n.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),m=d(()=>e.disable===!0||n.hasFocus.value===!0||I.value===!1&&n.hasActiveTab.value===!0?-1:e.tabindex||0);function _(r,a){if(a!==!0&&y.value!==null&&y.value.focus(),e.disable===!0){l!==void 0&&l.hasRouterLink.value===!0&&Qe(r);return}if(l===void 0){n.updateModel({name:e.name}),s("click",r);return}if(l.hasRouterLink.value===!0){const b=(w={})=>{let B;const Q=w.to===void 0||ot(w.to,e.to)===!0?n.avoidRouteWatcher=Fe():null;return l.navigateToRouterLink(r,{...w,returnRouterError:!0}).catch(H=>{B=H}).then(H=>{if(Q===n.avoidRouteWatcher&&(n.avoidRouteWatcher=!1,B===void 0&&(H===void 0||H.message.startsWith("Avoided redundant navigation")===!0)&&n.updateModel({name:e.name})),w.returnRouterError===!0)return B!==void 0?Promise.reject(B):H})};s("click",r,b),r.defaultPrevented!==!0&&b();return}s("click",r)}function P(r){nt(r,[13,32])?_(r,!0):lt(r)!==!0&&r.keyCode>=35&&r.keyCode<=40&&r.altKey!==!0&&r.metaKey!==!0&&n.onKbdNavigate(r.keyCode,u.$el)===!0&&Qe(r),s("keydown",r)}function M(){const r=n.tabProps.value.narrowIndicator,a=[],b=h("div",{ref:L,class:["q-tab__indicator",n.tabProps.value.indicatorClass]});e.icon!==void 0&&a.push(h(J,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&a.push(h("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&a.push(e.alertIcon!==void 0?h(J,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):h("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),r===!0&&a.push(b);const w=[h("div",{class:"q-focus-helper",tabindex:-1,ref:y}),h("div",{class:D.value},Ve(f.default,a))];return r===!1&&w.push(b),w}const A={name:d(()=>e.name),rootRef:q,tabIndicatorRef:L,routeData:l};Te(()=>{n.unregisterTab(A)}),Me(()=>{n.registerTab(A)});function i(r,a){const b={ref:q,class:E.value,tabindex:m.value,role:"tab","aria-selected":I.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:_,onKeydown:P,...a};return oe(h(r,b,M()),[[re,k.value]])}return{renderTab:i,$tabs:n}}var p=G({name:"QRouteTab",props:{...rt,...At},emits:Pt,setup(e,{slots:f,emit:s}){const l=it({useDisableForRouterLinkProps:!1}),{renderTab:n,$tabs:u}=Qt(e,f,s,{exact:d(()=>e.exact),...l});return z(()=>`${e.name} | ${e.exact} | ${(l.resolvedLink.value||{}).href}`,()=>{u.verifyRouteModel()}),()=>n(l.linkTag.value,l.linkAttrs.value)}}),It=G({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:f}){const s=d(()=>{const l=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(n=>e[n]===!0).map(n=>`q-btn-group--${n}`).join(" ");return`q-btn-group row no-wrap${l.length>0?" "+l:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>h("div",{class:s.value},ue(f.default))}});const Dt=Object.keys(Ee),zt=e=>Dt.reduce((f,s)=>{const l=e[s];return l!==void 0&&(f[s]=l),f},{});var Mt=G({name:"QBtnDropdown",props:{...Ee,...Rt,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:f,emit:s}){const{proxy:l}=Z(),n=T(e.modelValue),u=T(null),y=Fe(),q=d(()=>{const a={"aria-expanded":n.value===!0?"true":"false","aria-haspopup":"true","aria-controls":y,"aria-label":e.toggleAriaLabel||l.$q.lang.label[n.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(a["aria-disabled"]="true"),a}),L=d(()=>"q-btn-dropdown__arrow"+(n.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),k=d(()=>st(e)),I=d(()=>zt(e));z(()=>e.modelValue,a=>{u.value!==null&&u.value[a?"show":"hide"]()}),z(()=>e.split,r);function E(a){n.value=!0,s("beforeShow",a)}function D(a){s("show",a),s("update:modelValue",!0)}function m(a){n.value=!1,s("beforeHide",a)}function _(a){s("hide",a),s("update:modelValue",!1)}function P(a){s("click",a)}function M(a){ut(a),r(),s("click",a)}function A(a){u.value!==null&&u.value.toggle(a)}function i(a){u.value!==null&&u.value.show(a)}function r(a){u.value!==null&&u.value.hide(a)}return Object.assign(l,{show:i,hide:r,toggle:A}),Me(()=>{e.modelValue===!0&&i()}),()=>{const a=[h(J,{class:L.value,name:e.dropdownIcon||l.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&a.push(h(Lt,{ref:u,id:y,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:E,onShow:D,onBeforeHide:m,onHide:_},f.default)),e.split===!1?h(ie,{class:"q-btn-dropdown q-btn-dropdown--simple",...I.value,...q.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:P},{default:()=>ue(f.label,[]).concat(a),loading:f.loading}):h(It,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...k.value,glossy:e.glossy,stretch:e.stretch},()=>[h(ie,{class:"q-btn-dropdown--current",...I.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:M},{default:f.label,loading:f.loading}),h(ie,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...q.value,...k.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>a)])}}});function Ht(e,f,s){const l=s===!0?["left","right"]:["top","bottom"];return`absolute-${f===!0?l[0]:l[1]}${e?` text-${e}`:""}`}const Vt=["left","center","right","justify"];var Et=G({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>Vt.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:f,emit:s}){const{proxy:l}=Z(),{$q:n}=l,{registerTick:u}=we(),{registerTick:y}=we(),{registerTick:q}=we(),{registerTimeout:L,removeTimeout:k}=ze(),{registerTimeout:I,removeTimeout:E}=ze(),D=T(null),m=T(null),_=T(e.modelValue),P=T(!1),M=T(!0),A=T(!1),i=T(!1),r=[],a=T(0),b=T(!1);let w=null,B=null,Q;const H=d(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:Ht(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),Oe=d(()=>{const t=a.value,o=_.value;for(let c=0;c<t;c++)if(r[c].name.value===o)return!0;return!1}),We=d(()=>`q-tabs__content--align-${P.value===!0?"left":i.value===!0?"justify":e.align}`),je=d(()=>`q-tabs row no-wrap items-center q-tabs--${P.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),Ne=d(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+We.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),ee=d(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),te=d(()=>e.vertical!==!0&&n.lang.rtl===!0),ce=d(()=>Bt===!1&&te.value===!0);z(te,Y),z(()=>e.modelValue,t=>{de({name:t,setCurrent:!0,skipEmit:!0})}),z(()=>e.outsideArrows,ae);function de({name:t,setCurrent:o,skipEmit:c}){_.value!==t&&(c!==!0&&e["onUpdate:modelValue"]!==void 0&&s("update:modelValue",t),(o===!0||e["onUpdate:modelValue"]===void 0)&&(Ue(_.value,t),_.value=t))}function ae(){u(()=>{_e({width:D.value.offsetWidth,height:D.value.offsetHeight})})}function _e(t){if(ee.value===void 0||m.value===null)return;const o=t[ee.value.container],c=Math.min(m.value[ee.value.scroll],Array.prototype.reduce.call(m.value.children,(S,g)=>S+(g[ee.value.content]||0),0)),C=o>0&&c>o;P.value=C,C===!0&&y(Y),i.value=o<parseInt(e.breakpoint,10)}function Ue(t,o){const c=t!=null&&t!==""?r.find(S=>S.name.value===t):null,C=o!=null&&o!==""?r.find(S=>S.name.value===o):null;if(c&&C){const S=c.tabIndicatorRef.value,g=C.tabIndicatorRef.value;w!==null&&(clearTimeout(w),w=null),S.style.transition="none",S.style.transform="none",g.style.transition="none",g.style.transform="none";const v=S.getBoundingClientRect(),x=g.getBoundingClientRect();g.style.transform=e.vertical===!0?`translate3d(0,${v.top-x.top}px,0) scale3d(1,${x.height?v.height/x.height:1},1)`:`translate3d(${v.left-x.left}px,0,0) scale3d(${x.width?v.width/x.width:1},1,1)`,q(()=>{w=setTimeout(()=>{w=null,g.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",g.style.transform="none"},70)})}C&&P.value===!0&&X(C.rootRef.value)}function X(t){const{left:o,width:c,top:C,height:S}=m.value.getBoundingClientRect(),g=t.getBoundingClientRect();let v=e.vertical===!0?g.top-C:g.left-o;if(v<0){m.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(v),Y();return}v+=e.vertical===!0?g.height-S:g.width-c,v>0&&(m.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(v),Y())}function Y(){const t=m.value;if(t===null)return;const o=t.getBoundingClientRect(),c=e.vertical===!0?t.scrollTop:Math.abs(t.scrollLeft);te.value===!0?(M.value=Math.ceil(c+o.width)<t.scrollWidth-1,A.value=c>0):(M.value=c>0,A.value=e.vertical===!0?Math.ceil(c+o.height)<t.scrollHeight:Math.ceil(c+o.width)<t.scrollWidth)}function ke(t){B!==null&&clearInterval(B),B=setInterval(()=>{Xe(t)===!0&&j()},5)}function Le(){ke(ce.value===!0?Number.MAX_SAFE_INTEGER:0)}function Be(){ke(ce.value===!0?0:Number.MAX_SAFE_INTEGER)}function j(){B!==null&&(clearInterval(B),B=null)}function Ke(t,o){const c=Array.prototype.filter.call(m.value.children,x=>x===o||x.matches&&x.matches(".q-tab.q-focusable")===!0),C=c.length;if(C===0)return;if(t===36)return X(c[0]),c[0].focus(),!0;if(t===35)return X(c[C-1]),c[C-1].focus(),!0;const S=t===(e.vertical===!0?38:37),g=t===(e.vertical===!0?40:39),v=S===!0?-1:g===!0?1:void 0;if(v!==void 0){const x=te.value===!0?-1:1,F=c.indexOf(o)+v*x;return F>=0&&F<C&&(X(c[F]),c[F].focus({preventScroll:!0})),!0}}const Ge=d(()=>ce.value===!0?{get:t=>Math.abs(t.scrollLeft),set:(t,o)=>{t.scrollLeft=-o}}:e.vertical===!0?{get:t=>t.scrollTop,set:(t,o)=>{t.scrollTop=o}}:{get:t=>t.scrollLeft,set:(t,o)=>{t.scrollLeft=o}});function Xe(t){const o=m.value,{get:c,set:C}=Ge.value;let S=!1,g=c(o);const v=t<g?-1:1;return g+=v*5,g<0?(S=!0,g=0):(v===-1&&g<=t||v===1&&g>=t)&&(S=!0,g=t),C(o,g),Y(),S}function Re(t,o){for(const c in t)if(t[c]!==o[c])return!1;return!0}function Ye(){let t=null,o={matchedLen:0,queryDiff:9999,hrefLen:0};const c=r.filter(v=>v.routeData!==void 0&&v.routeData.hasRouterLink.value===!0),{hash:C,query:S}=l.$route,g=Object.keys(S).length;for(const v of c){const x=v.routeData.exact.value===!0;if(v.routeData[x===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:F,query:fe,matched:tt,href:at}=v.routeData.resolvedLink.value,ve=Object.keys(fe).length;if(x===!0){if(F!==C||ve!==g||Re(S,fe)===!1)continue;t=v.name.value;break}if(F!==""&&F!==C||ve!==0&&Re(fe,S)===!1)continue;const N={matchedLen:tt.length,queryDiff:g-ve,hrefLen:at.length-F.length};if(N.matchedLen>o.matchedLen){t=v.name.value,o=N;continue}else if(N.matchedLen!==o.matchedLen)continue;if(N.queryDiff<o.queryDiff)t=v.name.value,o=N;else if(N.queryDiff!==o.queryDiff)continue;N.hrefLen>o.hrefLen&&(t=v.name.value,o=N)}t===null&&r.some(v=>v.routeData===void 0&&v.name.value===_.value)===!0||de({name:t,setCurrent:!0})}function Je(t){if(k(),b.value!==!0&&D.value!==null&&t.target&&typeof t.target.closest=="function"){const o=t.target.closest(".q-tab");o&&D.value.contains(o)===!0&&(b.value=!0,P.value===!0&&X(o))}}function Ze(){L(()=>{b.value=!1},30)}function ne(){$e.avoidRouteWatcher===!1?I(Ye):E()}function xe(){if(Q===void 0){const t=z(()=>l.$route.fullPath,ne);Q=()=>{t(),Q=void 0}}}function pe(t){r.push(t),a.value++,ae(),t.routeData===void 0||l.$route===void 0?I(()=>{if(P.value===!0){const o=_.value,c=o!=null&&o!==""?r.find(C=>C.name.value===o):null;c&&X(c.rootRef.value)}}):(xe(),t.routeData.hasRouterLink.value===!0&&ne())}function et(t){r.splice(r.indexOf(t),1),a.value--,ae(),Q!==void 0&&t.routeData!==void 0&&(r.every(o=>o.routeData===void 0)===!0&&Q(),ne())}const $e={currentModel:_,tabProps:H,hasFocus:b,hasActiveTab:Oe,registerTab:pe,unregisterTab:et,verifyRouteModel:ne,updateModel:de,onKbdNavigate:Ke,avoidRouteWatcher:!1};Se(He,$e);function Pe(){w!==null&&clearTimeout(w),j(),Q!==void 0&&Q()}let Ae;return Te(Pe),ct(()=>{Ae=Q!==void 0,Pe()}),dt(()=>{Ae===!0&&xe(),ae()}),()=>h("div",{ref:D,class:je.value,role:"tablist",onFocusin:Je,onFocusout:Ze},[h(se,{onResize:_e}),h("div",{ref:m,class:Ne.value,onScroll:Y},ue(f.default)),h(J,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(M.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||n.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:Le,onTouchstartPassive:Le,onMouseupPassive:j,onMouseleavePassive:j,onTouchendPassive:j}),h(J,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(A.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||n.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:Be,onTouchstartPassive:Be,onMouseupPassive:j,onMouseleavePassive:j,onTouchendPassive:j})])}}),Ft=G({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:f,emit:s}){const{proxy:{$q:l}}=Z(),n=Ce(qe,W);if(n===W)return console.error("QHeader needs to be child of QLayout"),W;const u=T(parseInt(e.heightHint,10)),y=T(!0),q=d(()=>e.reveal===!0||n.view.value.indexOf("H")>-1||l.platform.is.ios&&n.isContainer.value===!0),L=d(()=>{if(e.modelValue!==!0)return 0;if(q.value===!0)return y.value===!0?u.value:0;const i=u.value-n.scroll.value.position;return i>0?i:0}),k=d(()=>e.modelValue!==!0||q.value===!0&&y.value!==!0),I=d(()=>e.modelValue===!0&&k.value===!0&&e.reveal===!0),E=d(()=>"q-header q-layout__section--marginal "+(q.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(k.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),D=d(()=>{const i=n.rows.value.top,r={};return i[0]==="l"&&n.left.space===!0&&(r[l.lang.rtl===!0?"right":"left"]=`${n.left.size}px`),i[2]==="r"&&n.right.space===!0&&(r[l.lang.rtl===!0?"left":"right"]=`${n.right.size}px`),r});function m(i,r){n.update("header",i,r)}function _(i,r){i.value!==r&&(i.value=r)}function P({height:i}){_(u,i),m("size",i)}function M(i){I.value===!0&&_(y,!0),s("focusin",i)}z(()=>e.modelValue,i=>{m("space",i),_(y,!0),n.animate()}),z(L,i=>{m("offset",i)}),z(()=>e.reveal,i=>{i===!1&&_(y,e.modelValue)}),z(y,i=>{n.animate(),s("reveal",i)}),z(n.scroll,i=>{e.reveal===!0&&_(y,i.direction==="up"||i.position<=e.revealOffset||i.position-i.inflectionPoint<100)});const A={};return n.instances.header=A,e.modelValue===!0&&m("size",u.value),m("space",e.modelValue),m("offset",L.value),Te(()=>{n.instances.header===A&&(n.instances.header=void 0,m("size",0),m("offset",0),m("space",!1))}),()=>{const i=ft(f.default,[]);return e.elevated===!0&&i.push(h("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),i.push(h(se,{debounce:0,onResize:P})),h("header",{class:E.value,style:D.value,onFocusin:M},i)}}}),Ot=G({name:"QPageContainer",setup(e,{slots:f}){const{proxy:{$q:s}}=Z(),l=Ce(qe,W);if(l===W)return console.error("QPageContainer needs to be child of QLayout"),W;Se(vt,!0);const n=d(()=>{const u={};return l.header.space===!0&&(u.paddingTop=`${l.header.size}px`),l.right.space===!0&&(u[`padding${s.lang.rtl===!0?"Left":"Right"}`]=`${l.right.size}px`),l.footer.space===!0&&(u.paddingBottom=`${l.footer.size}px`),l.left.space===!0&&(u[`padding${s.lang.rtl===!0?"Right":"Left"}`]=`${l.left.size}px`),u});return()=>h("div",{class:"q-page-container",style:n.value},ue(f.default))}}),Wt=G({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:f,emit:s}){const{proxy:{$q:l}}=Z(),n=T(null),u=T(l.screen.height),y=T(e.container===!0?0:l.screen.width),q=T({position:0,direction:"down",inflectionPoint:0}),L=T(0),k=T(ht.value===!0?0:he()),I=d(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),E=d(()=>e.container===!1?{minHeight:l.screen.height+"px"}:null),D=d(()=>k.value!==0?{[l.lang.rtl===!0?"left":"right"]:`${k.value}px`}:null),m=d(()=>k.value!==0?{[l.lang.rtl===!0?"right":"left"]:0,[l.lang.rtl===!0?"left":"right"]:`-${k.value}px`,width:`calc(100% + ${k.value}px)`}:null);function _(a){if(e.container===!0||document.qScrollPrevented!==!0){const b={position:a.position.top,direction:a.direction,directionChanged:a.directionChanged,inflectionPoint:a.inflectionPoint.top,delta:a.delta.top};q.value=b,e.onScroll!==void 0&&s("scroll",b)}}function P(a){const{height:b,width:w}=a;let B=!1;u.value!==b&&(B=!0,u.value=b,e.onScrollHeight!==void 0&&s("scrollHeight",b),A()),y.value!==w&&(B=!0,y.value=w),B===!0&&e.onResize!==void 0&&s("resize",a)}function M({height:a}){L.value!==a&&(L.value=a,A())}function A(){if(e.container===!0){const a=u.value>L.value?he():0;k.value!==a&&(k.value=a)}}let i=null;const r={instances:{},view:d(()=>e.view),isContainer:d(()=>e.container),rootRef:n,height:u,containerHeight:L,scrollbarWidth:k,totalWidth:d(()=>y.value+k.value),rows:d(()=>{const a=e.view.toLowerCase().split(" ");return{top:a[0].split(""),middle:a[1].split(""),bottom:a[2].split("")}}),header:le({size:0,offset:0,space:!1}),right:le({size:300,offset:0,space:!1}),footer:le({size:0,offset:0,space:!1}),left:le({size:300,offset:0,space:!1}),scroll:q,animate(){i!==null?clearTimeout(i):document.body.classList.add("q-body--layout-animate"),i=setTimeout(()=>{i=null,document.body.classList.remove("q-body--layout-animate")},155)},update(a,b,w){r[a][b]=w}};if(Se(qe,r),he()>0){let w=function(){a=null,b.classList.remove("hide-scrollbar")},B=function(){if(a===null){if(b.scrollHeight>l.screen.height)return;b.classList.add("hide-scrollbar")}else clearTimeout(a);a=setTimeout(w,300)},Q=function(H){a!==null&&H==="remove"&&(clearTimeout(a),w()),window[`${H}EventListener`]("resize",B)},a=null;const b=document.body;z(()=>e.container!==!0?"add":"remove",Q),e.container!==!0&&Q("add"),bt(()=>{Q("remove")})}return()=>{const a=Ve(f.default,[h(xt,{onScroll:_}),h(se,{onResize:P})]),b=h("div",{class:I.value,style:E.value,ref:e.container===!0?void 0:n,tabindex:-1},a);return e.container===!0?h("div",{class:"q-layout-container overflow-hidden",ref:n},[h(se,{onResize:M}),h("div",{class:"absolute-full",style:D.value},[h("div",{class:"scroll",style:m.value},[b])])]):b}}});const jt={data(){return{leftDrawerState:!1,selectedTerm:null}},computed:{currentTerm(){const e=V.getters.getCurrentTerm;return e.term+" "+e.year},terms(){return V.getters.getDates},years(){let e=[],f=null;for(let s in this.terms)this.terms[s].term&&(f=this.terms[s].term.slice(-4),e.push(f));return e=e.filter((s,l,n)=>n.indexOf(s)==l),e},isLoading(){return V.getters.isLoading},currentUser(){return V.getters.getCurrentUser},dataAvailable(){const e=V.getters.getDatesAvailable,f=V.getters.getEventsAvailable,s=V.getters.getStaffAvailable;return!!(e&&f&&s)}},watch:{currentTerm(){this.selectedTerm=this.currentTerm},dataAvailable(e){e?e&&this.$q.loading.hide():this.$q.loading.show()}},methods:{toggleLeftDrawer(){this.leftDrawerState=!this.leftDrawerState},setTerm(e){this.selectedTerm=e;const f={currentTerm:e};V.dispatch("setCurrentTerm",f)},logout(){V.dispatch("setCurrentUser",null),V.dispatch("setAuthState",!1),this.$router.replace("/login")}}};function Nt(e,f,s,l,n,u){const y=mt("router-view");return O(),U(Wt,{view:"hHh lpR fFf"},{default:$(()=>[R(Ft,{elevated:"",class:"bg-primary text-white","height-hint":"98"},{default:$(()=>[R(St,{class:"glossy"},{default:$(()=>[R(Ie,null,{default:$(()=>[R(wt,null,{default:$(()=>[R(J,{size:"lg",name:"nightlife"})]),_:1}),K(" Saturday Night Events - "+be(u.currentUser),1)]),_:1}),R(ie,{label:"logout",onClick:u.logout},null,8,["onClick"])]),_:1}),R(Et,{align:"left"},{default:$(()=>[R(p,{to:"/saturdays/staff",label:"Staff"}),R(p,{to:"/saturdays/slt",label:"SLT"}),R(p,{to:"/saturdays/dates",label:"Term Dates"}),R(p,{to:"/saturdays/test",label:"Test Page"}),R(p,{to:"/saturdays/staff-loading",label:"Staff Loading"}),R(De,{dark:"",vertical:"",inset:""}),e.$route.path!=="/saturdays/dates"?(O(),U(Ie,{key:0,class:"text-center"},{default:$(()=>[K(be(u.currentTerm),1)]),_:1})):ge("",!0),R(De,{dark:"",vertical:"",inset:""}),e.$route.path==="/saturdays/slt"||e.$route.path==="/saturdays/test"?(O(),U(Mt,{key:1,rounded:"",label:"select active term",style:{width:"200px"}},{default:$(()=>[R(qt,null,{default:$(()=>[R(_t,{header:""},{default:$(()=>[K("Years")]),_:1}),(O(!0),yt(Ct,null,Tt(u.years,q=>(O(),U(kt,{key:q,clickable:"",icon:"today",label:q},{default:$(()=>[oe((O(),U(me,{clickable:"",label:"Michaelmas",onClick:L=>u.setTerm("Michaelmas "+q)},{default:$(()=>[K("Michaelmas")]),_:2},1032,["onClick"])),[[re],[ye]]),oe((O(),U(me,{clickable:"",label:"Lent",onClick:L=>u.setTerm("Lent "+q)},{default:$(()=>[K("Lent")]),_:2},1032,["onClick"])),[[re],[ye]]),oe((O(),U(me,{clickable:"",label:"Summer",onClick:L=>u.setTerm("Summer "+q)},{default:$(()=>[K("Summer")]),_:2},1032,["onClick"])),[[re],[ye]])]),_:2},1032,["label"]))),128))]),_:1})]),_:1})):ge("",!0)]),_:1})]),_:1}),R(Ot,null,{default:$(()=>[u.dataAvailable?(O(),U(y,{key:0})):ge("",!0),K(" "+be(u.dataAvailable),1)]),_:1})]),_:1})}var na=gt(jt,[["render",Nt]]);export{na as default};
